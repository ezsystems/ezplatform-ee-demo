{% set locationId = parameters.location is not null ? parameters.location.id : contentInfo.mainLocationId %}

{% for block in blocks %}
    <div class="landing-page__block" data-ez-block-id="{{ block.id }}">
        <div class="block_{{ block.type }}">
            {{ render_esi(controller('EzPlatformPageFieldTypeBundle:Block:render', {
                'locationId': locationId,
                'contentId': contentInfo.id,
                'blockId': block.id,
                'versionNo': versionInfo.versionNo,
                'languageCode': field.languageCode
            })) }}
        </div>
    </div>
{% endfor %}
